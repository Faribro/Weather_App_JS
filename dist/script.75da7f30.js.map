{"version":3,"sources":["script.js"],"names":["wrapper","document","querySelector","inputPart","infoTxt","inputField","locationBtn","weatherPart","wIcon","arrowBack","api","addEventListener","e","key","value","requestApi","navigator","geolocation","getCurrentPosition","onSuccess","onError","alert","city","fetchData","position","coords","latitude","longitude","error","innerText","message","classList","add","fetch","then","res","json","result","weatherDetails","catch","replace","info","cod","name","country","sys","weather","description","id","main","temp","feels_like","humidity","src","Math","floor","remove"],"mappings":"AAAA,IAAMA,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAAC,UAAU,CAAC;EAChDC,SAAS,GAAGF,QAAQ,CAACC,aAAa,CAAC,aAAa,CAAC;EACjDE,OAAO,GAAGD,SAAS,CAACD,aAAa,CAAC,WAAW,CAAC;EAC9CG,UAAU,GAAGF,SAAS,CAACD,aAAa,CAAC,OAAO,CAAC;EAC7CI,WAAW,GAAGH,SAAS,CAACD,aAAa,CAAC,QAAQ,CAAC;EAC/CK,WAAW,GAAGP,OAAO,CAACE,aAAa,CAAC,eAAe,CAAC;EACpDM,KAAK,GAAGD,WAAW,CAACL,aAAa,CAAC,KAAK,CAAC;EACxCO,SAAS,GAAGT,OAAO,CAACE,aAAa,CAAC,UAAU,CAAC;AAE/C,IAAIQ,GAAG;AAEPL,UAAU,CAACM,gBAAgB,CAAC,OAAO,EAAE,UAACC,CAAC,EAAK;EAC1C,IAAIA,CAAC,CAACC,GAAG,KAAK,OAAO,IAAIR,UAAU,CAACS,KAAK,KAAK,EAAE,EAAE;IAChDC,UAAU,CAACV,UAAU,CAACS,KAAK,CAAC;EAC9B;AACF,CAAC,CAAC;AAEFR,WAAW,CAACK,gBAAgB,CAAC,OAAO,EAAE,YAAM;EAC1C,IAAIK,SAAS,CAACC,WAAW,EAAE;IACzBD,SAAS,CAACC,WAAW,CAACC,kBAAkB,CAACC,SAAS,EAAEC,OAAO,CAAC;EAC9D,CAAC,MAAM;IACLC,KAAK,CAAC,0CAA0C,CAAC;EACnD;AACF,CAAC,CAAC;AAEF,SAASN,UAAU,CAACO,IAAI,EAAE;EACxBZ,GAAG,+DAAwDY,IAAI,yDAAsD;EACrHC,SAAS,EAAE;AACb;AAEA,SAASJ,SAAS,CAACK,QAAQ,EAAE;EAC3B,uBAAgCA,QAAQ,CAACC,MAAM;IAAvCC,QAAQ,oBAARA,QAAQ;IAAEC,SAAS,oBAATA,SAAS;EAC3BjB,GAAG,iEAA0DgB,QAAQ,kBAAQC,SAAS,yDAAsD;EAC5IJ,SAAS,EAAE;AACb;AAEA,SAASH,OAAO,CAACQ,KAAK,EAAE;EACtBxB,OAAO,CAACyB,SAAS,GAAGD,KAAK,CAACE,OAAO;EACjC1B,OAAO,CAAC2B,SAAS,CAACC,GAAG,CAAC,OAAO,CAAC;AAChC;AAEA,SAAST,SAAS,GAAG;EACnBnB,OAAO,CAACyB,SAAS,GAAG,4BAA4B;EAChDzB,OAAO,CAAC2B,SAAS,CAACC,GAAG,CAAC,SAAS,CAAC;EAChCC,KAAK,CAACvB,GAAG,CAAC,CACPwB,IAAI,CAAC,UAACC,GAAG;IAAA,OAAKA,GAAG,CAACC,IAAI,EAAE;EAAA,EAAC,CACzBF,IAAI,CAAC,UAACG,MAAM;IAAA,OAAKC,cAAc,CAACD,MAAM,CAAC;EAAA,EAAC,CACxCE,KAAK,CAAC,YAAM;IACXnC,OAAO,CAACyB,SAAS,GAAG,sBAAsB;IAC1CzB,OAAO,CAAC2B,SAAS,CAACS,OAAO,CAAC,SAAS,EAAE,OAAO,CAAC;EAC/C,CAAC,CAAC;AACN;AAEA,SAASF,cAAc,CAACG,IAAI,EAAE;EAC5B,IAAIA,IAAI,CAACC,GAAG,KAAK,KAAK,EAAE;IACtBtC,OAAO,CAAC2B,SAAS,CAACS,OAAO,CAAC,SAAS,EAAE,OAAO,CAAC;IAC7CpC,OAAO,CAACyB,SAAS,aAAMxB,UAAU,CAACS,KAAK,6BAA0B;EACnE,CAAC,MAAM;IACL,IAAMQ,IAAI,GAAGmB,IAAI,CAACE,IAAI;IACtB,IAAMC,OAAO,GAAGH,IAAI,CAACI,GAAG,CAACD,OAAO;IAChC,qBAA4BH,IAAI,CAACK,OAAO,CAAC,CAAC,CAAC;MAAnCC,WAAW,kBAAXA,WAAW;MAAEC,EAAE,kBAAFA,EAAE;IACvB,iBAAuCP,IAAI,CAACQ,IAAI;MAAxCC,IAAI,cAAJA,IAAI;MAAEC,UAAU,cAAVA,UAAU;MAAEC,QAAQ,cAARA,QAAQ;IAElC,IAAIJ,EAAE,KAAK,GAAG,EAAE;MACdxC,KAAK,CAAC6C,GAAG,GAAG,iBAAiB;IAC/B,CAAC,MAAM,IAAIL,EAAE,IAAI,GAAG,IAAIA,EAAE,IAAI,GAAG,EAAE;MACjCxC,KAAK,CAAC6C,GAAG,GAAG,iBAAiB;IAC/B,CAAC,MAAM,IAAIL,EAAE,IAAI,GAAG,IAAIA,EAAE,IAAI,GAAG,EAAE;MACjCxC,KAAK,CAAC6C,GAAG,GAAG,gBAAgB;IAC9B,CAAC,MAAM,IAAIL,EAAE,IAAI,GAAG,IAAIA,EAAE,IAAI,GAAG,EAAE;MACjCxC,KAAK,CAAC6C,GAAG,GAAG,gBAAgB;IAC9B,CAAC,MAAM,IAAIL,EAAE,IAAI,GAAG,IAAIA,EAAE,IAAI,GAAG,EAAE;MACjCxC,KAAK,CAAC6C,GAAG,GAAG,iBAAiB;IAC/B,CAAC,MAAM,IAAKL,EAAE,IAAI,GAAG,IAAIA,EAAE,IAAI,GAAG,IAAMA,EAAE,IAAI,GAAG,IAAIA,EAAE,IAAI,GAAI,EAAE;MAC/DxC,KAAK,CAAC6C,GAAG,GAAG,gBAAgB;IAC9B;IAEA9C,WAAW,CAACL,aAAa,CAAC,aAAa,CAAC,CAAC2B,SAAS,GAAGyB,IAAI,CAACC,KAAK,CAACL,IAAI,CAAC;IACrE3C,WAAW,CAACL,aAAa,CAAC,UAAU,CAAC,CAAC2B,SAAS,GAAGkB,WAAW;IAC7DxC,WAAW,CAACL,aAAa,CACvB,gBAAgB,CACjB,CAAC2B,SAAS,aAAMP,IAAI,eAAKsB,OAAO,CAAE;IACnCrC,WAAW,CAACL,aAAa,CAAC,eAAe,CAAC,CAAC2B,SAAS,GAAGyB,IAAI,CAACC,KAAK,CAC/DJ,UAAU,CACX;IACD5C,WAAW,CAACL,aAAa,CAAC,gBAAgB,CAAC,CAAC2B,SAAS,aAAMuB,QAAQ,MAAG;IACtEhD,OAAO,CAAC2B,SAAS,CAACyB,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC;IAC5CpD,OAAO,CAACyB,SAAS,GAAG,EAAE;IACtBxB,UAAU,CAACS,KAAK,GAAG,EAAE;IACrBd,OAAO,CAAC+B,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC;EACjC;AACF;AAEAvB,SAAS,CAACE,gBAAgB,CAAC,OAAO,EAAE,YAAM;EACxCX,OAAO,CAAC+B,SAAS,CAACyB,MAAM,CAAC,QAAQ,CAAC;AACpC,CAAC,CAAC","file":"script.75da7f30.js","sourceRoot":"..","sourcesContent":["const wrapper = document.querySelector(\".wrapper\"),\r\n  inputPart = document.querySelector(\".input-part\"),\r\n  infoTxt = inputPart.querySelector(\".info-txt\"),\r\n  inputField = inputPart.querySelector(\"input\"),\r\n  locationBtn = inputPart.querySelector(\"button\"),\r\n  weatherPart = wrapper.querySelector(\".weather-part\"),\r\n  wIcon = weatherPart.querySelector(\"img\"),\r\n  arrowBack = wrapper.querySelector(\"header i\");\r\n\r\nlet api;\r\n\r\ninputField.addEventListener(\"keyup\", (e) => {\r\n  if (e.key === \"Enter\" && inputField.value !== \"\") {\r\n    requestApi(inputField.value);\r\n  }\r\n});\r\n\r\nlocationBtn.addEventListener(\"click\", () => {\r\n  if (navigator.geolocation) {\r\n    navigator.geolocation.getCurrentPosition(onSuccess, onError);\r\n  } else {\r\n    alert(\"Your browser not support geolocation api\");\r\n  }\r\n});\r\n\r\nfunction requestApi(city) {\r\n  api = `https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&appid=b29c141864f9d55ca63f2d526de14e8d`;\r\n  fetchData();\r\n}\r\n\r\nfunction onSuccess(position) {\r\n  const { latitude, longitude } = position.coords;\r\n  api = `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&units=metric&appid=b29c141864f9d55ca63f2d526de14e8d`;\r\n  fetchData();\r\n}\r\n\r\nfunction onError(error) {\r\n  infoTxt.innerText = error.message;\r\n  infoTxt.classList.add(\"error\");\r\n}\r\n\r\nfunction fetchData() {\r\n  infoTxt.innerText = \"Getting weather details...\";\r\n  infoTxt.classList.add(\"pending\");\r\n  fetch(api)\r\n    .then((res) => res.json())\r\n    .then((result) => weatherDetails(result))\r\n    .catch(() => {\r\n      infoTxt.innerText = \"Something went wrong\";\r\n      infoTxt.classList.replace(\"pending\", \"error\");\r\n    });\r\n}\r\n\r\nfunction weatherDetails(info) {\r\n  if (info.cod === \"404\") {\r\n    infoTxt.classList.replace(\"pending\", \"error\");\r\n    infoTxt.innerText = `${inputField.value} isn't a valid city name`;\r\n  } else {\r\n    const city = info.name;\r\n    const country = info.sys.country;\r\n    const { description, id } = info.weather[0];\r\n    const { temp, feels_like, humidity } = info.main;\r\n\r\n    if (id === 800) {\r\n      wIcon.src = \"icons/clear.svg\";\r\n    } else if (id >= 200 && id <= 232) {\r\n      wIcon.src = \"icons/storm.svg\";\r\n    } else if (id >= 600 && id <= 622) {\r\n      wIcon.src = \"icons/snow.svg\";\r\n    } else if (id >= 701 && id <= 781) {\r\n      wIcon.src = \"icons/haze.svg\";\r\n    } else if (id >= 801 && id <= 804) {\r\n      wIcon.src = \"icons/cloud.svg\";\r\n    } else if ((id >= 500 && id <= 531) || (id >= 300 && id <= 321)) {\r\n      wIcon.src = \"icons/rain.svg\";\r\n    }\r\n\r\n    weatherPart.querySelector(\".temp .numb\").innerText = Math.floor(temp);\r\n    weatherPart.querySelector(\".weather\").innerText = description;\r\n    weatherPart.querySelector(\r\n      \".location span\"\r\n    ).innerText = `${city}, ${country}`;\r\n    weatherPart.querySelector(\".temp .numb-2\").innerText = Math.floor(\r\n      feels_like\r\n    );\r\n    weatherPart.querySelector(\".humidity span\").innerText = `${humidity}%`;\r\n    infoTxt.classList.remove(\"pending\", \"error\");\r\n    infoTxt.innerText = \"\";\r\n    inputField.value = \"\";\r\n    wrapper.classList.add(\"active\");\r\n  }\r\n}\r\n\r\narrowBack.addEventListener(\"click\", () => {\r\n  wrapper.classList.remove(\"active\");\r\n});\r\n"]}